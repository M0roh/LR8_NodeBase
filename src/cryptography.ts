import * as bcrypt from 'bcrypt';

export async function hashPasswords() {
    const passwords = Array.from({ length: 13 }, (_, i) => `password_${i + 1}`);
    const saltRounds = 10;

    console.log(`üöÄ –ù–∞—á–∏–Ω–∞–µ–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ ${passwords.length} –ø–∞—Ä–æ–ª–µ–π...`);

    const totalStart = performance.now();

    const tasks = passwords.map(async (pw, index) => {
        const start = performance.now();
        
        await bcrypt.hash(pw, saltRounds);
        
        const end = performance.now();
        const duration = end - start;
        
        console.log(`üîê –ü–∞—Ä–æ–ª—å ${index + 1}: –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω –∑–∞ ${duration.toFixed(2)} –º—Å`);
        return duration;
    });

    await Promise.all(tasks);
    
    const totalEnd = performance.now();
    console.log(`\n‚è±Ô∏è –û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ${(totalEnd - totalStart).toFixed(2)} –º—Å`);

    printConclusion();
}

function printConclusion() {
    console.log("\n--- –í–´–í–û–î –û –í–†–ï–ú–ï–ù–ò ---");
    console.log("1. –ü—É–ª –ø–æ—Ç–æ–∫–æ–≤ (libuv): –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ Node.js —Ä–∞–∑–º–µ—Ä –ø—É–ª–∞ –ø–æ—Ç–æ–∫–æ–≤ —Ä–∞–≤–µ–Ω 4.");
    console.log("2. –ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è: –¢–∞–∫ –∫–∞–∫ –º—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏ 13 —Ç—è–∂–µ–ª—ã—Ö –∑–∞–¥–∞—á –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –æ–Ω–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è");
    console.log("   —Å—Ç—Ä–æ–≥–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ. –ü–µ—Ä–≤—ã–µ 4 –∑–∞–¥–∞—á–∏ –∑–∞–±–µ—Ä—É—Ç —Ä–µ—Å—É—Ä—Å—ã, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –±—É–¥—É—Ç –∂–¥–∞—Ç—å –æ—á–µ—Ä–µ–¥–∏.");
    console.log("3. –†–æ—Å—Ç –≤—Ä–µ–º–µ–Ω–∏: –í—Ä–µ–º—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è –±—É–¥–µ—Ç –í–´–®–ï, —á–µ–º –µ—Å–ª–∏ –±—ã –º—ã");
    console.log("   —à–∏—Ñ—Ä–æ–≤–∞–ª–∏ –æ–¥–∏–Ω –ø–∞—Ä–æ–ª—å –≤ –∏–∑–æ–ª—è—Ü–∏–∏, –∏–∑-–∑–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ CPU –∏ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —è–¥—Ä–∞.");
    console.log("4. –ò—Ç–æ–≥: –û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±—É–¥–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—å—à–µ —Å—É–º–º—ã –≤—Ä–µ–º–µ–Ω –∫–∞–∂–¥–æ–≥–æ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è,");
    console.log("   —Ç–∞–∫ –∫–∞–∫ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –≥—Ä—É–ø–ø–∞–º–∏ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–¥—Ä–∞—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞).");
}